<div id="blur-background" #blurBackground></div>
<!-- Image Blur BG -->
<div class="col-12 d-flex justify-content-center" id="keep-fixed">
  <!-- Info Section -->
  <div class="col-4 bg-mode memo-content" [class.d-none]="toggleRenders && !isSmallScreen" *ngIf="(mainView == 0 && !isSmallScreen) || (isSmallScreen && !toggleRenders && mainView == 0)">
    <div class="col-12">
      <p class="pt-2 m-0">{{item?.shortDesc}}</p>
      <h2 class="project-title">
        {{item?.title}}
      </h2>
      <p class="text-muted m-0">
        {{item?.longDesc}}
      </p>
    </div>
    <div class="col-12 d-flex justify-content-between">
      <div #leftIcons>
        <i-feather name="codepen" class="m-2 stroke-07 pointer" (click)="switchSection(1)"></i-feather>
        <i-feather name="book-open" class="m-2 stroke-07 pointer" (click)="switchSection(2)"></i-feather>
        <i-feather [name]="lightMode? 'moon' : 'sun'" class="m-2 stroke-07 pointer" (click)="switchLightMode()">
        </i-feather>
      </div>
      <div #rightIcons>
        <i-feather [name]="!toggleRenders ? 'eye' : 'eye-off'"
        class="m-2 stroke-07 pointer float-right" (click)="toggleRendersView()"></i-feather>
      </div>
    </div>
  </div>

  <div class="col-4 bg-mode memo-content" *ngIf="mainView == 1">
    <div class="col-12 text-center">
      <h2 class="project-title">MODELADO {{number | number:'2.0'}}.</h2>
      <app-three-box class="m-2"></app-three-box>
    </div>
    <div class="col-12 d-flex">
      <i-feather name="corner-up-left" class="m-2 stroke-07 pointer" (click)="switchSection(0)"></i-feather>
    </div>
  </div>
  <div class="col-4 bg-mode memo-content" [class.invert-pics]="!lightMode" *ngIf="mainView == 2">
    <div class="col-12 text-center">
      <h2 class="project-title">DESARROLLO {{number | number:'2.0'}}.</h2>
      <div class="wrap-images">
        <img *ngFor="let plano of item?.article?.planos; let i = index" [src]="plano" alt="" [style]="(i+1) == item?.article?.planos?.length? 'max-height: 30vh': 'max-height: 15vh'">
      </div>
    </div>
    <div class="col-12 d-flex">
      <i-feather name="corner-up-left" class="m-2 stroke-07 pointer" (click)="switchSection(0)"></i-feather>
    </div>
  </div>

  <!-- Pic Section -->
  <div class="col-4" [class.col-8]="toggleRenders && !isSmallScreen" *ngIf="(!isSmallScreen || (isSmallScreen && toggleRenders)) && !reRenderSize" style="--border-radius: {{toggleRenders ? '12px' : '0 12px 12px 0'}}">
    <div class="d-flex back-btn-mobile" *ngIf="(toggleRenders)">
      <i-feather name="corner-up-left" class="m-2 stroke-07 pointer" (click)="toggleRendersView()"></i-feather>
    </div>
    <!-- Light Mode -->
    <ui-carousel #uiCarousel [infinite]="true" [fade]="false" [speed]="1500" [arrows]="false" [width]="'100%'"
      [height]="'80vh'" [autoPlaySpeed]="5000" *ngIf="lightMode">
      <ui-carousel-item *ngFor="let item of item?.images?.day">
        <img [ui-lazy-load]="item" height="100%">
      </ui-carousel-item>
      <div class="left-arrow" (click)="uiCarousel.prev()">
        <i-feather name="chevron-left" class="m-2 stroke-07 pointer"></i-feather>
      </div>
      <div class="right-arrow" (click)="uiCarousel.next()">
        <i-feather name="chevron-right" class="m-2 stroke-07 pointer"></i-feather>
      </div>
    </ui-carousel>

    <!-- Night Mode -->
    <ui-carousel #uiCarousel [infinite]="false" [dots]="false" [fade]="false" [speed]="1500" [arrows]="false"
      [width]="''" [height]="'80vh'" [autoPlaySpeed]="5000" *ngIf="!lightMode">
      <ui-carousel-item *ngFor="let item of item?.images?.night">
        <img [ui-lazy-load]="item" height="100%">
      </ui-carousel-item>
    </ui-carousel>
  </div>
</div>